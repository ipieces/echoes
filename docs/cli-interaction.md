# Audio Journal â€” CLI äº¤äº’è®¾è®¡

å…¨è‡ªåŠ¨åå°æœåŠ¡ + ç®¡ç† CLIã€‚æœåŠ¡ç›‘å¬ç›®å½•è‡ªåŠ¨å¤„ç†ï¼ŒCLI ä»…ç”¨äºæŸ¥çœ‹å’Œç®¡ç†ã€‚

---

## 1. å‘½ä»¤æ€»è§ˆ

```bash
audio-journal start [-d]               # å¯åŠ¨æœåŠ¡ï¼ˆ-d åå°å®ˆæŠ¤è¿›ç¨‹ï¼‰
audio-journal stop                     # åœæ­¢æœåŠ¡
audio-journal status                   # æœåŠ¡çŠ¶æ€ + å¤„ç†ç»Ÿè®¡
audio-journal list [--date] [--scene]  # æŸ¥çœ‹å½’æ¡£ç»“æœ
audio-journal show <id>                # æŸ¥çœ‹æŸæ¡è¯¦æƒ…
audio-journal reprocess <id|--date>    # é‡æ–°å¤„ç†
audio-journal process <file.wav>       # æ‰‹åŠ¨å¤„ç†ï¼ˆä¸ä¾èµ– watcherï¼‰
audio-journal config show|set          # é…ç½®ç®¡ç†
```

---

## 2. start â€” å¯åŠ¨æœåŠ¡

### å‰å°æ¨¡å¼

```
$ audio-journal start

ğŸ™ï¸ Audio Journal æœåŠ¡å¯åŠ¨
  ç›‘å¬ç›®å½•: /Users/m4006/recordings/inbox
  ASR å¼•æ“: FunASR (paraformer-zh) | è®¾å¤‡: mps
  LLM: deepseek (åˆ†ç±») / claude (åˆ†æ)
  å½’æ¡£ç›®æ ‡: æœ¬åœ° + Obsidian

  ç­‰å¾…æ–°å½•éŸ³æ–‡ä»¶...

  [16:30:05] æ£€æµ‹åˆ°æ–°æ–‡ä»¶: 2026-02-27-morning.wav (3h 22m)
  [16:30:05] å¼€å§‹å¤„ç†...
  [16:30:10] éŸ³é¢‘é¢„åˆ‡åˆ†: 5 ä¸ª chunk
  [16:38:42] ASR è½¬å†™å®Œæˆ (8m32s, 3 ä¸ªè¯´è¯äºº)
  [16:38:45] åˆ†æ®µå®Œæˆ: 6 ä¸ªç‰‡æ®µ
  [16:38:52] åœºæ™¯åˆ†ç±»: 2Ã—ä¼šè®®, 1Ã—ç”µè¯, 1Ã—çµæ„Ÿ, 1Ã—é—²èŠ, 1Ã—å­¦ä¹ 
  [16:39:30] å†…å®¹åˆ†æå®Œæˆ
  [16:39:31] âœ… å·²å½’æ¡£ 6 æ¡ (æœ¬åœ°: 6, Obsidian: 5)

  ç­‰å¾…æ–°å½•éŸ³æ–‡ä»¶...
```

### åå°å®ˆæŠ¤è¿›ç¨‹

```
$ audio-journal start -d

ğŸ™ï¸ Audio Journal æœåŠ¡å·²åœ¨åå°å¯åŠ¨ (PID: 12345)
  ç›‘å¬ç›®å½•: /Users/m4006/recordings/inbox
  æ—¥å¿—: ~/.audio-journal/logs/service.log
```

---

## 3. stop â€” åœæ­¢æœåŠ¡

```
$ audio-journal stop

ğŸ›‘ Audio Journal æœåŠ¡å·²åœæ­¢ (PID: 12345)
  æœ¬æ¬¡è¿è¡Œ: å¤„ç† 3 ä¸ªæ–‡ä»¶, å½’æ¡£ 18 æ¡
```

---

## 4. status â€” æŸ¥çœ‹çŠ¶æ€

```
$ audio-journal status

ğŸ“Š Audio Journal çŠ¶æ€

  æœåŠ¡: â— è¿è¡Œä¸­ (PID: 12345, å·²è¿è¡Œ 2h 15m)
  ç›‘å¬: /Users/m4006/recordings/inbox (0 ä¸ªå¾…å¤„ç†)

  ä»Šæ—¥ç»Ÿè®¡:
    å¤„ç†æ–‡ä»¶: 2 ä¸ª (7h 37m éŸ³é¢‘)
    å½’æ¡£ç‰‡æ®µ: 12 æ¡
    åœºæ™¯åˆ†å¸ƒ: ä¼šè®®(3) å•†åŠ¡(2) ç”µè¯(2) çµæ„Ÿ(2) é—²èŠ(2) å­¦ä¹ (1)

  è¿‘ 7 å¤©:
    ğŸ“… 02-27: 12 æ¡ | ğŸ“… 02-26: 9 æ¡ | ğŸ“… 02-25: 11 æ¡
    ğŸ“… 02-24: 8 æ¡  | ğŸ“… 02-23: 0 æ¡ | ğŸ“… 02-22: 0 æ¡
    ğŸ“… 02-21: 7 æ¡

  é…ç½®:
    ASR: FunASR (paraformer-zh) | mps
    LLM: deepseek (åˆ†ç±») / claude (åˆ†æ)
    å½’æ¡£: æœ¬åœ° + Obsidian
```

### æœåŠ¡æœªè¿è¡Œæ—¶

```
$ audio-journal status

ğŸ“Š Audio Journal çŠ¶æ€

  æœåŠ¡: â—‹ æœªè¿è¡Œ
  ä¸Šæ¬¡è¿è¡Œ: 2026-02-27 14:30 (2h å‰)

  æœ€è¿‘å½’æ¡£:
    ğŸ“… 02-27: 12 æ¡ | ğŸ“… 02-26: 9 æ¡

  è¿è¡Œ audio-journal start å¯åŠ¨æœåŠ¡ â†’
```

---

## 5. list â€” æŸ¥çœ‹å½’æ¡£ç»“æœ

### é»˜è®¤ï¼ˆæœ€è¿‘å½’æ¡£ï¼‰

```
$ audio-journal list

ğŸ“… 2026-02-27 (12 æ¡)

  ID    åœºæ™¯    æ—¶é—´          æ—¶é•¿    æ ‡é¢˜
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  027-001  ğŸ¢ ä¼šè®®  09:15-10:32  1h17m  FP-Enhancement å‘¨ä¼š
  027-002  ğŸ“ ç”µè¯  10:45-10:58  13m    å››å¶è‰æ¸—é€æµ‹è¯•æ²Ÿé€š
  027-003  ğŸ¤ å•†åŠ¡  11:10-12:05  55m    å®¢æˆ·AæŠ€æœ¯æ–¹æ¡ˆè®¨è®º
  027-004  ğŸ’¬ é—²èŠ  12:30-13:15  45m    åˆé¥­é—²èŠ âš¡æŠ•èèµ„+å¸‚åœº
  027-005  ğŸ’¡ çµæ„Ÿ  14:02-14:11  9m     å½•éŸ³ç³»ç»Ÿäº§å“æ€è€ƒ
  027-006  ğŸ¢ ä¼šè®®  14:30-15:45  1h15m  äº§å“éœ€æ±‚è¯„å®¡
  027-007  ğŸ“ ç”µè¯  16:00-16:12  12m    ä¾›åº”å•†æŠ¥ä»·ç¡®è®¤
  027-008  ğŸ¤ å•†åŠ¡  16:30-17:20  50m    æ¸ é“åˆä½œæ´½è°ˆ
  027-009  ğŸ“– å­¦ä¹   17:30-18:15  45m    æŠ€æœ¯åˆ†äº«è§†é¢‘ç¬”è®°
  027-010  ğŸ’¡ çµæ„Ÿ  18:30-18:38  8m     æ˜æ—¥è®¡åˆ’æ¢³ç†
  027-011  ğŸ¢ ä¼šè®®  19:00-19:45  45m    æ™šé—´æŠ€æœ¯è®¨è®º
  027-012  ğŸ’¬ é—²èŠ  20:00-20:30  30m    æœ‹å‹èŠå¤©
```

### æŒ‰æ—¥æœŸ

```
$ audio-journal list --date 2026-02-26
```

### æŒ‰åœºæ™¯

```
$ audio-journal list --scene meeting

ğŸ“… æœ€è¿‘ä¼šè®®è®°å½•

  ID    æ—¥æœŸ        æ—¶é—´          æ—¶é•¿    æ ‡é¢˜
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  027-001  02-27  09:15-10:32  1h17m  FP-Enhancement å‘¨ä¼š
  027-006  02-27  14:30-15:45  1h15m  äº§å“éœ€æ±‚è¯„å®¡
  027-011  02-27  19:00-19:45  45m    æ™šé—´æŠ€æœ¯è®¨è®º
  026-001  02-26  09:00-10:15  1h15m  Sprint è§„åˆ’ä¼š
  026-005  02-26  14:00-15:30  1h30m  æ¶æ„è¯„å®¡
```

---

## 6. show â€” æŸ¥çœ‹è¯¦æƒ…

```
$ audio-journal show 027-001

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¢ å·¥ä½œä¼šè®® | 2026-02-27 09:15 - 10:32 (1h17m) | ç½®ä¿¡åº¦: 0.95
æ¥æº: 2026-02-27-morning.wav â†’ chunk_002
è¯´è¯äºº: SPEAKER_00(ä½ ), SPEAKER_01, SPEAKER_02
å½’æ¡£: Obsidian (opsidian/AudioJournal/2026-02-27/001-meeting-FP-Enhancementå‘¨ä¼š.md)

ğŸ“ æ‘˜è¦:
FP-Enhancement é¡¹ç›®å‘¨ä¼šã€‚è®¨è®ºäº†å®éªŒæ–¹æ¡ˆçš„æ¨è¿›ç­–ç•¥ï¼Œç¡®è®¤
ç”±å¼€å‘éƒ¨é—¨ä¸»å¯¼å®éªŒï¼ŒæœåŠ¡ç«¯å½’å¹¶æ–¹å‘å’Œ IP é«˜æƒé‡ç­–ç•¥å·²è¾¾æˆ
å…±è¯†ã€‚é¢„è®¡ä¸‹å‘¨ä¸€äº§å‡ºå®éªŒæŠ¥å‘Šã€‚

ğŸ”‘ å…³é”®è¦ç‚¹:
  1. å®éªŒæ–¹æ¡ˆç”±å¼€å‘éƒ¨é—¨æ¨è¿›ï¼Œé¢„è®¡ 3/2 å‡ºææ–™
  2. æœåŠ¡ç«¯å½’å¹¶ + IP é«˜æƒé‡æ–¹å‘å·²ç¡®è®¤
  3. éœ€è¦è¯„ä¼°å¯¹ç°æœ‰å®¢æˆ·çš„å…¼å®¹æ€§å½±å“

ğŸ“‹ å¾…åŠ:
  â€¢ [å¼€å‘éƒ¨é—¨] 3/2 å‰æäº¤å®éªŒæŠ¥å‘Š
  â€¢ [ipieces] æ”¶åˆ°æŠ¥å‘Šåå®‰æ’è¯„å®¡
  â€¢ [SPEAKER_02] å‡†å¤‡å…¼å®¹æ€§æµ‹è¯•æ–¹æ¡ˆ

ğŸ·ï¸ æ ‡ç­¾: #fp-enhancement #å®éªŒæ–¹æ¡ˆ #æœåŠ¡ç«¯å½’å¹¶

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ“ä½œ: [r]æŸ¥çœ‹åŸæ–‡ [p]é‡æ–°å¤„ç† [q]é€€å‡º >
```

### æŸ¥çœ‹åŸæ–‡

```
> r

â”€â”€ åŸå§‹è½¬å†™ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[09:15:03] SPEAKER_00: å¥½ï¼Œæˆ‘ä»¬å¼€å§‹å§ã€‚ä»Šå¤©ä¸»è¦è®¨è®º
           FP-Enhancement çš„å®éªŒæ–¹æ¡ˆ...
[09:15:18] SPEAKER_01: ä¸Šå‘¨æˆ‘ä»¬ç¡®è®¤äº†æœåŠ¡ç«¯å½’å¹¶çš„æ–¹å‘ï¼Œ
           ç°åœ¨éœ€è¦ç»†åŒ–å®éªŒæ­¥éª¤...
[09:15:45] SPEAKER_00: å¯¹ï¼ŒIP é«˜æƒé‡è¿™ä¸ªç­–ç•¥ä¹Ÿè¦ä¸€èµ·éªŒè¯...
...
(æŒ‰ Enter ç»§ç»­æ»šåŠ¨, æŒ‰ b è¿”å›)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

---

## 7. reprocess â€” é‡æ–°å¤„ç†

```
$ audio-journal reprocess 027-004

ğŸ”„ é‡æ–°å¤„ç†: 027-004 (ğŸ’¬ é—²èŠ | åˆé¥­é—²èŠ)
  â ‹ é‡æ–°åˆ†æä¸­... (ä½¿ç”¨æœ€æ–° prompt)
  âœ“ åˆ†æå®Œæˆï¼Œå·²æ›´æ–°å½’æ¡£

  å˜æ›´:
    æ‘˜è¦: [å·²æ›´æ–°]
    é«˜ä»·å€¼ç‰‡æ®µ: 2 â†’ 3 (æ–°å¢: æŠ€æœ¯è®¨è®º)
    æ ‡ç­¾: +#æŠ€æœ¯æ¶æ„
```

### é‡æ–°å¤„ç†æŸå¤©å…¨éƒ¨

```
$ audio-journal reprocess --date 2026-02-26

ğŸ”„ é‡æ–°å¤„ç† 2026-02-26 å…¨éƒ¨ 9 æ¡è®°å½•...
  âœ“ 026-001 ä¼šè®® [æ— å˜åŒ–]
  âœ“ 026-002 ç”µè¯ [æ‘˜è¦æ›´æ–°]
  âœ“ 026-003 å•†åŠ¡ [æ— å˜åŒ–]
  ...
  âœ… å®Œæˆ: 9 æ¡å¤„ç†, 3 æ¡æœ‰æ›´æ–°
```

---

## 8. process â€” æ‰‹åŠ¨å¤„ç†

ä¸ä¾èµ– watcherï¼Œç›´æ¥å¤„ç†æŒ‡å®šæ–‡ä»¶ï¼š

```
$ audio-journal process ~/recordings/special-meeting.wav

ğŸ™ï¸ å¤„ç†: special-meeting.wav (1h 05m)
  â ‹ éŸ³é¢‘é¢„åˆ‡åˆ†ä¸­...
  âœ“ åˆ‡åˆ†ä¸º 2 ä¸ª chunk
  â ‹ ASR è½¬å†™ä¸­...
  âœ“ è½¬å†™å®Œæˆ (2m15s, 4 ä¸ªè¯´è¯äºº)
  â ‹ åˆ†æ®µ â†’ åˆ†ç±» â†’ åˆ†æ...
  âœ“ å®Œæˆ: 3 ä¸ªç‰‡æ®µ
  âœ… å·²å½’æ¡£ 3 æ¡
```

---

## 9. config â€” é…ç½®ç®¡ç†

```
$ audio-journal config show

âš™ï¸ å½“å‰é…ç½®:

  ç›‘å¬:
    ç›®å½•: ./data/inbox
    æ–‡ä»¶ç±»å‹: *.wav
    å®ˆæŠ¤è¿›ç¨‹: å¦

  ASR:
    å¼•æ“: funasr
    æ¨¡å‹: paraformer-zh
    è®¾å¤‡: mps

  Chunker:
    é™éŸ³é˜ˆå€¼: 30s
    æœ€å¤§ chunk: 1800s
    å¹¶è¡Œ: æ˜¯ (4 workers)

  LLM:
    é»˜è®¤: deepseek / deepseek-chat
    åˆ†ç±»: deepseek / deepseek-chat
    åˆ†æ: claude / claude-sonnet-4-5-20250514

  å½’æ¡£:
    é»˜è®¤ç›®æ ‡: local + obsidian
    æœ¬åœ°è·¯å¾„: ./data/archive
    Obsidian vault: /path/to/vault
```

```bash
$ audio-journal config set watcher.watch_dir /Users/m4006/recordings
  âœ“ watcher.watch_dir å·²æ›´æ–°

$ audio-journal config set chunker.min_silence_gap 45
  âœ“ chunker.min_silence_gap: 30 â†’ 45
```

---

## 10. åœºæ™¯å›¾æ ‡æ˜ å°„

| åœºæ™¯ | å›¾æ ‡ | è‹±æ–‡æ ‡è¯† |
|------|------|---------|
| å·¥ä½œä¼šè®® | ğŸ¢ | meeting |
| å•†åŠ¡æ‹œè®¿ | ğŸ¤ | business |
| çµæ„Ÿ/è‡ªè¨€è‡ªè¯­ | ğŸ’¡ | idea |
| å­¦ä¹ /è§‚çœ‹è§†é¢‘ | ğŸ“– | learning |
| ç”µè¯é€šè¯ | ğŸ“ | phone |
| æœ‹å‹é—²èŠ | ğŸ’¬ | chat |
